"use strict";(globalThis.webpackChunkphysical_ai_robotics_book=globalThis.webpackChunkphysical_ai_robotics_book||[]).push([[871],{871:(e,n,a)=>{a.r(n),a.d(n,{default:()=>d});var s=a(6540),o=a(9427),r=a(5782),t=a(711);const i={skeleton:"skeleton_jh1O",pulse:"pulse_qBzE",signInButton:"signInButton_r1dM",userMenu:"userMenu_gfVy",avatarButton:"avatarButton_uaTB",avatarImage:"avatarImage_ky5e",avatarIcon:"avatarIcon_PBl9",userName:"userName_RmFJ",chevron:"chevron_Nqjy",chevronUp:"chevronUp_Ox2b",dropdown:"dropdown_Zwbq",fadeIn:"fadeIn_jJNR",dropdownHeader:"dropdownHeader_jfMP",dropdownEmail:"dropdownEmail_oBG4",profileIncomplete:"profileIncomplete_FzaO",dropdownDivider:"dropdownDivider_EAUx",dropdownItem:"dropdownItem_c2ZG"};var l=a(4848);function c(){return(0,l.jsx)("svg",{className:i.avatarIcon,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}function d(){const{isAuthenticated:e,user:n,isPending:a,isProfileComplete:d}=(0,o.As)(),[u,p]=(0,s.useState)(!1),[m,v]=(0,s.useState)(!1),[h,w]=(0,s.useState)(!1),x=(0,s.useRef)(null);(0,s.useEffect)(()=>{function e(e){x.current&&!x.current.contains(e.target)&&v(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);if(a)return(0,l.jsx)("div",{className:i.skeleton});if(!e)return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{className:i.signInButton,onClick:()=>p(!0),type:"button",children:"Sign In"}),(0,l.jsx)(r.A,{isOpen:u,onClose:()=>p(!1)})]});const f=n?.name||n?.email?.split("@")[0]||"User",g=n?.image;return(0,l.jsxs)("div",{className:i.userMenu,ref:x,children:[(0,l.jsxs)("button",{className:i.avatarButton,onClick:()=>v(!m),type:"button","aria-expanded":m,"aria-haspopup":"true",children:[g?(0,l.jsx)("img",{src:g,alt:f,className:i.avatarImage}):(0,l.jsx)(c,{}),(0,l.jsx)("span",{className:i.userName,children:f}),(0,l.jsx)("svg",{className:`${i.chevron} ${m?i.chevronUp:""}`,viewBox:"0 0 24 24",fill:"currentColor",children:(0,l.jsx)("path",{d:"M7 10l5 5 5-5z"})})]}),m&&(0,l.jsxs)("div",{className:i.dropdown,children:[(0,l.jsxs)("div",{className:i.dropdownHeader,children:[(0,l.jsx)("span",{className:i.dropdownEmail,children:n?.email}),!d&&(0,l.jsx)("span",{className:i.profileIncomplete,children:"Profile incomplete"})]}),(0,l.jsx)("div",{className:i.dropdownDivider}),(0,l.jsx)("button",{className:i.dropdownItem,onClick:async()=>{w(!0);try{await(0,t.CI)(),v(!1)}catch(e){console.error("Sign out failed:",e)}finally{w(!1)}},disabled:h,type:"button",children:h?"Signing out...":"Sign Out"})]})]})}}}]);