"use strict";(globalThis.webpackChunkphysical_ai_robotics_book=globalThis.webpackChunkphysical_ai_robotics_book||[]).push([[442],{1061:(e,t,n)=>{n.r(t),n.d(t,{TextSelection:()=>p,default:()=>f});var o=n(6540);const i=[".theme-doc-markdown","article",".markdown",'[class*="docItemContainer"]'];function r(e,t=1e3){return!e||e.length<=t?e:e.slice(0,t)+"..."}function s(){const[e,t]=(0,o.useState)(null),n=(0,o.useCallback)(()=>{t(null)},[]);return(0,o.useEffect)(()=>{const n=()=>{const e=window.getSelection();e&&!e.isCollapsed&&e.toString().trim()},o=e=>{setTimeout(()=>{const e=window.getSelection();if(!e||e.isCollapsed)return void t(null);const n=e.toString().trim();if(!n||n.length<3)return void t(null);const o=e.anchorNode,s=o?.nodeType===Node.TEXT_NODE?o.parentElement:o;if(!function(e){if(!e)return!1;for(const t of i)if(e.closest(t))return!0;return!1}(s))return void t(null);if(function(e){if(!e)return!1;const t=["nav","header","footer",".navbar",".sidebar",".menu",".table-of-contents",".pagination-nav",'[class*="chatbot"]'];for(const n of t)if(e.closest(n))return!0;return!1}(s))return void t(null);const a=e.getRangeAt(0).getBoundingClientRect(),c={x:a.left+a.width/2,y:a.top-10};t({text:n,truncatedText:r(n),position:c,isWithinContentArea:!0})},10)},s=n=>{if(e){if(n.target.closest("[data-ask-ai-button]"))return;t(null)}},a=()=>{e&&t(null)};return document.addEventListener("selectionchange",n),document.addEventListener("mouseup",o),document.addEventListener("mousedown",s),window.addEventListener("scroll",a,!0),()=>{document.removeEventListener("selectionchange",n),document.removeEventListener("mouseup",o),document.removeEventListener("mousedown",s),window.removeEventListener("scroll",a,!0)}},[e]),{selection:e,clearSelection:n}}var a=n(4848);const c={position:"fixed",padding:"8px 12px",background:"var(--ifm-color-primary, #3578e5)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",zIndex:1001,display:"flex",alignItems:"center",gap:"6px",transition:"transform 0.15s ease, box-shadow 0.15s ease",whiteSpace:"nowrap"},l={transform:"scale(1.02)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"};function u(){return(0,a.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{d:"M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z"})})}const d=function({position:e,onClick:t}){const[n,i]=o.useState(!1),r={...c,...n?l:{},left:Math.max(10,Math.min(e.x-50,window.innerWidth-120)),top:Math.max(10,e.y-40)};return(0,a.jsxs)("button",{"data-ask-ai-button":!0,style:r,onClick:t,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),"aria-label":"Ask AI about selected text",type:"button",children:[(0,a.jsx)(u,{}),"Ask AI"]})};function p(){const{selection:e,clearSelection:t}=s(),n=(0,o.useCallback)(()=>{e&&(window.__chatbotSetContext&&window.__chatbotSetContext(e.text),window.getSelection()?.removeAllRanges(),t())},[e,t]);return e?(0,a.jsx)(d,{position:e.position,onClick:n}):null}const f=p}}]);